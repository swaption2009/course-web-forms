function scrollDown(){scroller.scrollTop=scroller.scrollTop+diff/12,scroller.scrollTop-originalTop-diff<-diff/12&&window.requestAnimationFrame(scrollDown)}function initAutocomplete(){autocompleteInputs.forEach(function(e){e.element=document.querySelector(e.selector),e.googleAutocomplete=new google.maps.places.Autocomplete(e.element.$.input,{type:["geocode"]}),e.googleAutocomplete.addListener("place_changed",fillInAddress),e.element.addEventListener("blur",fillInAddress)})}function fillInAddress(){var e,o=0,t=document.querySelector("gold-zip-input");if(autocompleteInputs.forEach(function(t){var r=t.element.$.input.value;t.priority>o&&r&&(o=t.priority,e=t.googleAutocomplete)}),e)for(var r=e.getPlace(),n=0;n<r.address_components.length;n++){var s=r.address_components[n].types[0];if(componentForm[s]){var l=r.address_components[n][componentForm[s]];fullAddress[s]=l,"postal_code"===s&&(t.value=l,t.oninput())}}}function geolocate(){navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(e){var o={lat:e.coords.latitude,lng:e.coords.longitude},t=new google.maps.Circle({center:o,radius:e.coords.accuracy});autocomplete.setBounds(t.getBounds())})}function ProgressTracker(e,o){var t=this;this.progressBar=o,this.inputs=e,this.inputs.forEach(function(e){e.element=document.querySelector(e.selector),e.added=!1,e.isValid=null,e.element.oninput=function(){e.isValid=t.determineStatus(e),t.adjustProgressIfNecessary(e)}})}var useDiffBilling=document.querySelector(".use-diff-billing"),newBilling=document.querySelector(".new-billing"),submit=document.querySelector(".submit"),scroller=document.querySelector("paper-header-panel").scroller,startDist=submit.getBoundingClientRect().bottom-useDiffBilling.getBoundingClientRect().bottom,endDist,originalTop,diff;useDiffBilling.addEventListener("change",function(e){newBilling.classList.toggle("fade-in"),this.checked&&window.setTimeout(function(){originalTop=scroller.scrollTop,endDist=submit.getBoundingClientRect().bottom-useDiffBilling.getBoundingClientRect().bottom,diff=endDist-startDist,window.requestAnimationFrame(scrollDown)},200)});var placeSearch,autocompleteInputs=[{selector:"#bill-address",priority:2},{selector:"#ship-address",priority:1}],componentForm={street_number:"short_name",route:"long_name",locality:"long_name",administrative_area_level_1:"short_name",country:"long_name",postal_code:"short_name"},fullAddress={},progressBar=document.querySelector("paper-progress");ProgressTracker.prototype={determineStatus:function(e){var o=!1;o=e.element.value.length>0?!0:!1;try{o=o&&e.element.validate()}catch(t){console.log(t)}return o},adjustProgressIfNecessary:function(e){var o=this.progressBar.value;e.added&&!e.isValid?(o-=e.amount,e.added=!1):!e.added&&e.isValid&&(o+=e.amount,e.added=!0),this.progressBar.value=o}};var inputs=[{selector:"#cc-number",amount:16},{selector:"#cc-exp",amount:16},{selector:"#cc-zip",amount:16},{selector:"#cc-cvc",amount:16},{selector:"#ship-name",amount:16},{selector:"#ship-address",amount:20}],progressTracker=new ProgressTracker(inputs,progressBar);